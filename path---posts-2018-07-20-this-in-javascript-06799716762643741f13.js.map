{"version":3,"sources":["webpack:///path---posts-2018-07-20-this-in-javascript-06799716762643741f13.js","webpack:///./.cache/json/posts-2018-07-20-this-in-javascript.json"],"names":["webpackJsonp","729","module","exports","data","site","siteMetadata","title","url","author","markdownRemark","html","timeToRead","fields","tagSlugs","frontmatter","subTitle","tags","date","mainImageAlt","description","mainImage","childImageSharp","sizes","aspectRatio","base64","src","srcSet","pathContext","slug"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,oBAAAC,IAAA,4BAAAC,OAAA,YAAkFC,gBAAmBC,KAAA,qyoBAAqrlBC,WAAA,EAAAC,QAAs6EC,UAAA,uBAAkCC,aAAgBR,MAAA,uBAAAS,SAAA,KAAAC,MAAA,cAAAC,KAAA,aAAAC,aAAA,gEAAAC,YAAA,GAAAC,WAAsMC,iBAAmBC,OAASC,YAAA,kBAAAC,OAAA,kzBAA0DF,MAAA,oCAAAG,IAAA,mEAAAC,OAAA,iXAA+wCC,aAAgBC,KAAA","file":"path---posts-2018-07-20-this-in-javascript-06799716762643741f13.js","sourcesContent":["webpackJsonp([46227488339713],{\n\n/***/ 729:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"rhostem.github.io\",\"url\":\"https://rhostem.github.io\",\"author\":\"rhostem\"}},\"markdownRemark\":{\"html\":\"<p>자바스크립트에서 컨텍스트(<a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this\\\">context</a>)는 곧 객체 인스턴스다. 그리고 컨텍스트는 <code class=\\\"language-text\\\">this</code>라는 키워드를 통해 참조할 수 있다. 자바스크립트에서 <code class=\\\"language-text\\\">this</code>는 처음 접했을 때 많은 혼란을 주는 존재다, 이 키워드는 사용되는 위치에 따라 서로 다른 객체를 가리키기 때문이다. <code class=\\\"language-text\\\">this</code> 키워드를 파악하기 위해서는 <code class=\\\"language-text\\\">this</code>를 사용하고 있는 함수의 객체 생성 여부와 함수와 객체 사이의 관계를 잘 살펴봐야 한다.</p>\\n<blockquote>\\n<p>이 글에서 언급하는 ‘객체’란 인스턴스를 의미한다. 즉 <code class=\\\"language-text\\\">new</code> 키워드를 통해 실체화 된 객체를 말한다.</p>\\n</blockquote>\\n<h2 id=\\\"함수\\\"><a href=\\\"#%ED%95%A8%EC%88%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>함수</h2>\\n<p>먼저 함수 내부에서의 <code class=\\\"language-text\\\">this</code>를 살펴보자. 함수는 선언한 후, 호출해서 사용한다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is undefined</span></code></pre>\\n      </div>\\n<p>위의 코드를 실행하면 콘솔 창에는 <code class=\\\"language-text\\\">undefined</code>가 출력된다. <strong>단순히 선언만 한 함수는 컨텍스트가 없기 때문이다</strong>. 호출을 통해 내부 프로세스를 사용할 수는 있지만 함수라는 틀만 있고 객체 인스턴스로는 만들어지지 않은 상태다. 실체가 없으므로 함수 내부에서 <code class=\\\"language-text\\\">this</code>는 <code class=\\\"language-text\\\">undefined</code>가 된다.</p>\\n<blockquote>\\n<p>이 글의 모든 예제는 전역 공간(브라우저의 콘솔 커맨드라인에서 실행하는 것과 같다.)에서 <a href=\\\"https://msdn.microsoft.com/ko-kr/library/br230269(v=vs.94).aspx\\\">Strict 모드</a>로 실행했다. Strict 모드를 사용하면 <code class=\\\"language-text\\\">this</code> 객체가 <code class=\\\"language-text\\\">null</code> 또는 <code class=\\\"language-text\\\">undefined</code>일 때 전역 객체로 자동 변환되지 않는다. 만약 Strict 모드를 사용하지 않았다면 위의 예제에서는 <code class=\\\"language-text\\\">undefined</code> 대신 <code class=\\\"language-text\\\">Window</code>가 출력되었을 것이다.</p>\\n</blockquote>\\n<p><strong>함수로 객체를 생성한다</strong>는 개념이 약간 어색하게 느껴질 수 있지만, 자바스크립트에는 가능한 일이다. 자바스크립트에서는 객체 리터럴 표기법(ex. <code class=\\\"language-text\\\">var a = { prop: &#39;value&#39; }</code>)뿐만 아니라 <code class=\\\"language-text\\\">new</code> 키워드와 함수를 사용해서 객체를 만들 수 있다.</p>\\n<p>앞서 선언한 <code class=\\\"language-text\\\">foo</code> 함수로 객체를 만들어 보자. 그러면 콘솔 로그에는 함수를 직접 호출했을 때와 다른 결과가 나타난다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> f <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is foo {}</span></code></pre>\\n      </div>\\n<p>앞에서는 <code class=\\\"language-text\\\">this</code>가 <code class=\\\"language-text\\\">undefined</code>라고 했지만 여기서는 <code class=\\\"language-text\\\">foo</code>라고 한다. <code class=\\\"language-text\\\">this</code>가 가리키는 대상이 바뀐 이유는 함수 <code class=\\\"language-text\\\">foo</code>를 바탕으로 한 객체가 만들어졌기 때문이다. 따라서 <code class=\\\"language-text\\\">console.log</code> 함수에서 참조한 <code class=\\\"language-text\\\">this</code>가 가리키는 대상은 이제 <code class=\\\"language-text\\\">foo</code>가 된다.</p>\\n<h2 id=\\\"메소드method\\\"><a href=\\\"#%EB%A9%94%EC%86%8C%EB%93%9Cmethod\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>메소드(method)</h2>\\n<p>객체의 속성에 할당된 함수를 메소드라고 한다. 메소드 내부에서 <code class=\\\"language-text\\\">this</code>가 무엇을 가리키는지 확인해보자.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">check</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> f <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\nf<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is foo {check: ƒ}</span></code></pre>\\n      </div>\\n<p><code class=\\\"language-text\\\">check</code> 메소드 내부의 <code class=\\\"language-text\\\">this</code>는 <code class=\\\"language-text\\\">foo</code>로 나온다. 메소드도 앞서 언급한 것처럼 함수 선언만 하고 객체가 생성되지는 않은 상태다. 하지만 함수 선언과 달리 <strong>메소드는 <code class=\\\"language-text\\\">foo</code> 함수의 컨텍스트(<code class=\\\"language-text\\\">this</code>)에 직접 연결되어 있다</strong>. <code class=\\\"language-text\\\">foo</code> 함수로 객체가 만들어지면 메소드도 그 객체에 포함된다. 서로 동일한 컨텍스트를 공유하는 개념이라고 볼 수 있다.</p>\\n<p>클래스 문법으로 프로토타입 메소드를 선언하거나 리터럴 문법으로 선언한 객체에도 같은 법칙이 적용된다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Bar</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">// === Bar.prototype.check</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> b <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Bar</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\nb<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is Bar {}</span></code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> obj <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  checkAtObj<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nobj<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">checkAtObj</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is {checkAtObj: ƒ}</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트를-가지지-않는-화살표-함수\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EA%B0%80%EC%A7%80%EC%A7%80-%EC%95%8A%EB%8A%94-%ED%99%94%EC%82%B4%ED%91%9C-%ED%95%A8%EC%88%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트를 가지지 않는 화살표 함수</h2>\\n<p>ES6에는 <a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/%EC%95%A0%EB%A1%9C%EC%9A%B0_%ED%8E%91%EC%85%98\\\">화살표 함수</a> 문법이 추가되었다. 화살표 함수로 생성된 함수는 컨텍스트를 가지지 않으며 객체 생성을 위한 <code class=\\\"language-text\\\">constructor</code>도 없어서 <code class=\\\"language-text\\\">new</code> 키워드로 객체를 생성할 수도 없다.</p>\\n<p>화살표 함수는 일반적인 함수 선언과 다르게 작동한다. 화살표 함수 내부에서 <code class=\\\"language-text\\\">this</code>는 그 함수를 포함하고 있는 객체 인스턴스를 가리킨다. 함수처럼 사용할 수 있지만 <strong>화살표 함수 내부의 코드는 중괄호로 둘러싸이지 않은 영역에서 실행된다</strong>고 생각하면 이해하기 쉽다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">normalFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this in normalFunc is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this in normalFunc is undefined</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">normalFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  <span class=\\\"token keyword\\\">var</span> <span class=\\\"token function-variable function\\\">arrowFunc</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this in arrowFunc is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this in arrowFunc is test {}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">arrowFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this test {}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> testInstance <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트를-직접-지정하기\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%A7%81%EC%A0%91-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트를 직접 지정하기</h2>\\n<p>지금까지는 살펴본 것들은 자연스러운 상황이었다. 하지만 자바스크립트는 컨텍스트, 즉 <code class=\\\"language-text\\\">this</code>가 가리키는 객체를 조작할 수 있는 방법을 제공한다. <a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function\\\"><code class=\\\"language-text\\\">Function</code></a> 함수의 프로토타입에 선언되어 있는 <code class=\\\"language-text\\\">call</code>, <code class=\\\"language-text\\\">apply</code>, <code class=\\\"language-text\\\">bind</code>가 그것이다. 이 3가지 메소드는 사용 방식이 조금씩 다를 뿐 목적은 모두 동일하다.</p>\\n<p><code class=\\\"language-text\\\">call</code>은 컨텍스트를 지정하는 동시에 호출한다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">check</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">var</span> testInstance <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\ntestInstance<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// test {check: ƒ}</span>\\ntestInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// Window {}</span></code></pre>\\n      </div>\\n<p>자바스크립트의 모든 함수는 기본 객체인 <code class=\\\"language-text\\\">Function</code>으로 만들어진 객체이기에 사용자가 만들지 않은 속성을 프로토타입으로 가지고 있다. <code class=\\\"language-text\\\">call</code> 메소드에 객체를 파라미터로 전달하면 함수가 즉시 실행되면서 <code class=\\\"language-text\\\">this</code>만 바뀐다. <code class=\\\"language-text\\\">apply</code>는 call과 같지만, 원본 함수에 전달할 파라미터를 배열에 담아서 전달한다는 것만 다르다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">testInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'arg1'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'args2'</span><span class=\\\"token punctuation\\\">)</span>\\ntestInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">apply</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'arg1'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'args2'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<p>앞의 두 메소드와 달리 <code class=\\\"language-text\\\">bind</code>는 즉시 실행되지 않는다. 대신 <a href=\\\"https://ko.wikipedia.org/wiki/%EA%B3%A0%EC%B0%A8_%ED%95%A8%EC%88%98\\\">고차 함수</a>가 하는 것처럼 새로운 함수를 만든다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> calc <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  base<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">,</span>\\n  sum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span>num<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>base <span class=\\\"token operator\\\">+</span> num\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">const</span> hundred <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  base<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">100</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>calc<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">sum</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// 11</span>\\n\\n<span class=\\\"token comment\\\">// sum 메소드의 컨텍스트를 교체해서 this.base가 100이 되도록 한다.</span>\\n<span class=\\\"token keyword\\\">const</span> sumBindToHundred <span class=\\\"token operator\\\">=</span> calc<span class=\\\"token punctuation\\\">.</span>sum<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span>hundred<span class=\\\"token punctuation\\\">)</span>\\n\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">sumBindToHundred</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>  <span class=\\\"token comment\\\">// 101</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트-this-결국-모두-객체다\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-this-%EA%B2%B0%EA%B5%AD-%EB%AA%A8%EB%91%90-%EA%B0%9D%EC%B2%B4%EB%8B%A4\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트? this? 결국 모두 객체다.</h2>\\n<p>자바스크립트는 모든 것이 객체로 구성되어 있으며 <code class=\\\"language-text\\\">this</code>도 결국 객체를 가리키는 키워드다. 하지만 몇 가지 변형이 있어서 모든 사례에 적용되는 규칙을 정의하기는 어렵다. 그래도 <code class=\\\"language-text\\\">this</code>를 관통하는 추상적인 원칙을 하나 들자면 <strong>this는 실체가 있는 대상을 가리켜야 한다</strong>가 아닐까 한다. 단순 함수 선언은 컨텍스트가 없고, 객체가 만들어진 함수만 컨텍스트가 있기 때문이다. 그리고 메소드로 지정된 함수는 객체로 만들어지진 않았지만 다른 객체에 포함되어 있으니 실체가 있다고 간주할 수도 있지 않을까? 개인적으로는 <code class=\\\"language-text\\\">this</code>를 단순 암기식으로 외우는 것보다 이런 식으로 원칙을 세우는 편이 이해하기에 좋았다.</p>\",\"timeToRead\":5,\"fields\":{\"tagSlugs\":[\"/tags/java-script/\"]},\"frontmatter\":{\"title\":\"자바스크립트의 this가 가리키는 것\",\"subTitle\":null,\"tags\":[\"JavaScript\"],\"date\":\"2018-07-20\",\"mainImageAlt\":\"photo by John Baker (https://unsplash.com/photos/3To9V42K0Ag)\",\"description\":\"\",\"mainImage\":{\"childImageSharp\":{\"sizes\":{\"aspectRatio\":1.599878197320341,\"base64\":\"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeQgKHYj/8QAGBAAAwEBAAAAAAAAAAAAAAAAAQIDABL/2gAIAQEAAQUCmoNLoFPIyOQ1Kl90d//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAAQESH/2gAIAQEABj8Chipq/8QAHRAAAwABBQEAAAAAAAAAAAAAAAERcSExYZGx4f/aAAgBAQABPyFIbbJH+6Jy+kBlFSU6cGLo/9oADAMBAAIAAwAAABDgD//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EGf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAgEBPxCK/8QAHBABAQACAgMAAAAAAAAAAAAAAREAIUFRMZGx/9oACAEBAAE/EAyrl1OO/GBAQl2PjCTG86mBtD2E9ZooKkBicBgIaZ//2Q==\",\"sizes\":\"(max-width: 1600px) 100vw, 1600px\",\"src\":\"/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d60e4.jpeg\",\"srcSet\":\"/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d3cb5.jpeg 400w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-0a0f4.jpeg 800w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d60e4.jpeg 1600w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-ed281.jpeg 2400w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-8bfac.jpeg 2627w\"}}}}}},\"pathContext\":{\"slug\":\"/posts/2018-07-20-this-in-javascript/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---posts-2018-07-20-this-in-javascript-06799716762643741f13.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"rhostem.github.io\",\"url\":\"https://rhostem.github.io\",\"author\":\"rhostem\"}},\"markdownRemark\":{\"html\":\"<p>자바스크립트에서 컨텍스트(<a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/this\\\">context</a>)는 곧 객체 인스턴스다. 그리고 컨텍스트는 <code class=\\\"language-text\\\">this</code>라는 키워드를 통해 참조할 수 있다. 자바스크립트에서 <code class=\\\"language-text\\\">this</code>는 처음 접했을 때 많은 혼란을 주는 존재다, 이 키워드는 사용되는 위치에 따라 서로 다른 객체를 가리키기 때문이다. <code class=\\\"language-text\\\">this</code> 키워드를 파악하기 위해서는 <code class=\\\"language-text\\\">this</code>를 사용하고 있는 함수의 객체 생성 여부와 함수와 객체 사이의 관계를 잘 살펴봐야 한다.</p>\\n<blockquote>\\n<p>이 글에서 언급하는 ‘객체’란 인스턴스를 의미한다. 즉 <code class=\\\"language-text\\\">new</code> 키워드를 통해 실체화 된 객체를 말한다.</p>\\n</blockquote>\\n<h2 id=\\\"함수\\\"><a href=\\\"#%ED%95%A8%EC%88%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>함수</h2>\\n<p>먼저 함수 내부에서의 <code class=\\\"language-text\\\">this</code>를 살펴보자. 함수는 선언한 후, 호출해서 사용한다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is undefined</span></code></pre>\\n      </div>\\n<p>위의 코드를 실행하면 콘솔 창에는 <code class=\\\"language-text\\\">undefined</code>가 출력된다. <strong>단순히 선언만 한 함수는 컨텍스트가 없기 때문이다</strong>. 호출을 통해 내부 프로세스를 사용할 수는 있지만 함수라는 틀만 있고 객체 인스턴스로는 만들어지지 않은 상태다. 실체가 없으므로 함수 내부에서 <code class=\\\"language-text\\\">this</code>는 <code class=\\\"language-text\\\">undefined</code>가 된다.</p>\\n<blockquote>\\n<p>이 글의 모든 예제는 전역 공간(브라우저의 콘솔 커맨드라인에서 실행하는 것과 같다.)에서 <a href=\\\"https://msdn.microsoft.com/ko-kr/library/br230269(v=vs.94).aspx\\\">Strict 모드</a>로 실행했다. Strict 모드를 사용하면 <code class=\\\"language-text\\\">this</code> 객체가 <code class=\\\"language-text\\\">null</code> 또는 <code class=\\\"language-text\\\">undefined</code>일 때 전역 객체로 자동 변환되지 않는다. 만약 Strict 모드를 사용하지 않았다면 위의 예제에서는 <code class=\\\"language-text\\\">undefined</code> 대신 <code class=\\\"language-text\\\">Window</code>가 출력되었을 것이다.</p>\\n</blockquote>\\n<p><strong>함수로 객체를 생성한다</strong>는 개념이 약간 어색하게 느껴질 수 있지만, 자바스크립트에는 가능한 일이다. 자바스크립트에서는 객체 리터럴 표기법(ex. <code class=\\\"language-text\\\">var a = { prop: &#39;value&#39; }</code>)뿐만 아니라 <code class=\\\"language-text\\\">new</code> 키워드와 함수를 사용해서 객체를 만들 수 있다.</p>\\n<p>앞서 선언한 <code class=\\\"language-text\\\">foo</code> 함수로 객체를 만들어 보자. 그러면 콘솔 로그에는 함수를 직접 호출했을 때와 다른 결과가 나타난다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> f <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is foo {}</span></code></pre>\\n      </div>\\n<p>앞에서는 <code class=\\\"language-text\\\">this</code>가 <code class=\\\"language-text\\\">undefined</code>라고 했지만 여기서는 <code class=\\\"language-text\\\">foo</code>라고 한다. <code class=\\\"language-text\\\">this</code>가 가리키는 대상이 바뀐 이유는 함수 <code class=\\\"language-text\\\">foo</code>를 바탕으로 한 객체가 만들어졌기 때문이다. 따라서 <code class=\\\"language-text\\\">console.log</code> 함수에서 참조한 <code class=\\\"language-text\\\">this</code>가 가리키는 대상은 이제 <code class=\\\"language-text\\\">foo</code>가 된다.</p>\\n<h2 id=\\\"메소드method\\\"><a href=\\\"#%EB%A9%94%EC%86%8C%EB%93%9Cmethod\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>메소드(method)</h2>\\n<p>객체의 속성에 할당된 함수를 메소드라고 한다. 메소드 내부에서 <code class=\\\"language-text\\\">this</code>가 무엇을 가리키는지 확인해보자.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">check</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> f <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">foo</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\nf<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is foo {check: ƒ}</span></code></pre>\\n      </div>\\n<p><code class=\\\"language-text\\\">check</code> 메소드 내부의 <code class=\\\"language-text\\\">this</code>는 <code class=\\\"language-text\\\">foo</code>로 나온다. 메소드도 앞서 언급한 것처럼 함수 선언만 하고 객체가 생성되지는 않은 상태다. 하지만 함수 선언과 달리 <strong>메소드는 <code class=\\\"language-text\\\">foo</code> 함수의 컨텍스트(<code class=\\\"language-text\\\">this</code>)에 직접 연결되어 있다</strong>. <code class=\\\"language-text\\\">foo</code> 함수로 객체가 만들어지면 메소드도 그 객체에 포함된다. 서로 동일한 컨텍스트를 공유하는 개념이라고 볼 수 있다.</p>\\n<p>클래스 문법으로 프로토타입 메소드를 선언하거나 리터럴 문법으로 선언한 객체에도 같은 법칙이 적용된다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Bar</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">// === Bar.prototype.check</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> b <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Bar</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\nb<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is Bar {}</span></code></pre>\\n      </div>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">var</span> obj <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  checkAtObj<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">function</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nobj<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">checkAtObj</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this is {checkAtObj: ƒ}</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트를-가지지-않는-화살표-함수\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EA%B0%80%EC%A7%80%EC%A7%80-%EC%95%8A%EB%8A%94-%ED%99%94%EC%82%B4%ED%91%9C-%ED%95%A8%EC%88%98\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트를 가지지 않는 화살표 함수</h2>\\n<p>ES6에는 <a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Functions/%EC%95%A0%EB%A1%9C%EC%9A%B0_%ED%8E%91%EC%85%98\\\">화살표 함수</a> 문법이 추가되었다. 화살표 함수로 생성된 함수는 컨텍스트를 가지지 않으며 객체 생성을 위한 <code class=\\\"language-text\\\">constructor</code>도 없어서 <code class=\\\"language-text\\\">new</code> 키워드로 객체를 생성할 수도 없다.</p>\\n<p>화살표 함수는 일반적인 함수 선언과 다르게 작동한다. 화살표 함수 내부에서 <code class=\\\"language-text\\\">this</code>는 그 함수를 포함하고 있는 객체 인스턴스를 가리킨다. 함수처럼 사용할 수 있지만 <strong>화살표 함수 내부의 코드는 중괄호로 둘러싸이지 않은 영역에서 실행된다</strong>고 생각하면 이해하기 쉽다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">normalFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this in normalFunc is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this in normalFunc is undefined</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">normalFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  <span class=\\\"token keyword\\\">var</span> <span class=\\\"token function-variable function\\\">arrowFunc</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this in arrowFunc is'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this in arrowFunc is test {}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token function\\\">arrowFunc</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'this'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// this test {}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">var</span> testInstance <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트를-직접-지정하기\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%A7%81%EC%A0%91-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트를 직접 지정하기</h2>\\n<p>지금까지는 살펴본 것들은 자연스러운 상황이었다. 하지만 자바스크립트는 컨텍스트, 즉 <code class=\\\"language-text\\\">this</code>가 가리키는 객체를 조작할 수 있는 방법을 제공한다. <a href=\\\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function\\\"><code class=\\\"language-text\\\">Function</code></a> 함수의 프로토타입에 선언되어 있는 <code class=\\\"language-text\\\">call</code>, <code class=\\\"language-text\\\">apply</code>, <code class=\\\"language-text\\\">bind</code>가 그것이다. 이 3가지 메소드는 사용 방식이 조금씩 다를 뿐 목적은 모두 동일하다.</p>\\n<p><code class=\\\"language-text\\\">call</code>은 컨텍스트를 지정하는 동시에 호출한다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">check</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">var</span> testInstance <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">test</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\ntestInstance<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">check</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// test {check: ƒ}</span>\\ntestInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// Window {}</span></code></pre>\\n      </div>\\n<p>자바스크립트의 모든 함수는 기본 객체인 <code class=\\\"language-text\\\">Function</code>으로 만들어진 객체이기에 사용자가 만들지 않은 속성을 프로토타입으로 가지고 있다. <code class=\\\"language-text\\\">call</code> 메소드에 객체를 파라미터로 전달하면 함수가 즉시 실행되면서 <code class=\\\"language-text\\\">this</code>만 바뀐다. <code class=\\\"language-text\\\">apply</code>는 call과 같지만, 원본 함수에 전달할 파라미터를 배열에 담아서 전달한다는 것만 다르다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">testInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">call</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'arg1'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'args2'</span><span class=\\\"token punctuation\\\">)</span>\\ntestInstance<span class=\\\"token punctuation\\\">.</span>check<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">apply</span><span class=\\\"token punctuation\\\">(</span>window<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">'arg1'</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">'args2'</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span></code></pre>\\n      </div>\\n<p>앞의 두 메소드와 달리 <code class=\\\"language-text\\\">bind</code>는 즉시 실행되지 않는다. 대신 <a href=\\\"https://ko.wikipedia.org/wiki/%EA%B3%A0%EC%B0%A8_%ED%95%A8%EC%88%98\\\">고차 함수</a>가 하는 것처럼 새로운 함수를 만든다.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> calc <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  base<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">,</span>\\n  sum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token punctuation\\\">(</span>num<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>base <span class=\\\"token operator\\\">+</span> num\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">const</span> hundred <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  base<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token number\\\">100</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>calc<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">sum</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// 11</span>\\n\\n<span class=\\\"token comment\\\">// sum 메소드의 컨텍스트를 교체해서 this.base가 100이 되도록 한다.</span>\\n<span class=\\\"token keyword\\\">const</span> sumBindToHundred <span class=\\\"token operator\\\">=</span> calc<span class=\\\"token punctuation\\\">.</span>sum<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">bind</span><span class=\\\"token punctuation\\\">(</span>hundred<span class=\\\"token punctuation\\\">)</span>\\n\\nconsole<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">sumBindToHundred</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>  <span class=\\\"token comment\\\">// 101</span></code></pre>\\n      </div>\\n<h2 id=\\\"컨텍스트-this-결국-모두-객체다\\\"><a href=\\\"#%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-this-%EA%B2%B0%EA%B5%AD-%EB%AA%A8%EB%91%90-%EA%B0%9D%EC%B2%B4%EB%8B%A4\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>컨텍스트? this? 결국 모두 객체다.</h2>\\n<p>자바스크립트는 모든 것이 객체로 구성되어 있으며 <code class=\\\"language-text\\\">this</code>도 결국 객체를 가리키는 키워드다. 하지만 몇 가지 변형이 있어서 모든 사례에 적용되는 규칙을 정의하기는 어렵다. 그래도 <code class=\\\"language-text\\\">this</code>를 관통하는 추상적인 원칙을 하나 들자면 <strong>this는 실체가 있는 대상을 가리켜야 한다</strong>가 아닐까 한다. 단순 함수 선언은 컨텍스트가 없고, 객체가 만들어진 함수만 컨텍스트가 있기 때문이다. 그리고 메소드로 지정된 함수는 객체로 만들어지진 않았지만 다른 객체에 포함되어 있으니 실체가 있다고 간주할 수도 있지 않을까? 개인적으로는 <code class=\\\"language-text\\\">this</code>를 단순 암기식으로 외우는 것보다 이런 식으로 원칙을 세우는 편이 이해하기에 좋았다.</p>\",\"timeToRead\":5,\"fields\":{\"tagSlugs\":[\"/tags/java-script/\"]},\"frontmatter\":{\"title\":\"자바스크립트의 this가 가리키는 것\",\"subTitle\":null,\"tags\":[\"JavaScript\"],\"date\":\"2018-07-20\",\"mainImageAlt\":\"photo by John Baker (https://unsplash.com/photos/3To9V42K0Ag)\",\"description\":\"\",\"mainImage\":{\"childImageSharp\":{\"sizes\":{\"aspectRatio\":1.599878197320341,\"base64\":\"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeQgKHYj/8QAGBAAAwEBAAAAAAAAAAAAAAAAAQIDABL/2gAIAQEAAQUCmoNLoFPIyOQ1Kl90d//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAAQESH/2gAIAQEABj8Chipq/8QAHRAAAwABBQEAAAAAAAAAAAAAAAERcSExYZGx4f/aAAgBAQABPyFIbbJH+6Jy+kBlFSU6cGLo/9oADAMBAAIAAwAAABDgD//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EGf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAgEBPxCK/8QAHBABAQACAgMAAAAAAAAAAAAAAREAIUFRMZGx/9oACAEBAAE/EAyrl1OO/GBAQl2PjCTG86mBtD2E9ZooKkBicBgIaZ//2Q==\",\"sizes\":\"(max-width: 1600px) 100vw, 1600px\",\"src\":\"/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d60e4.jpeg\",\"srcSet\":\"/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d3cb5.jpeg 400w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-0a0f4.jpeg 800w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-d60e4.jpeg 1600w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-ed281.jpeg 2400w,\\n/static/you_are_here-045fa75d35d06cb8f9f902f52799dc3c-8bfac.jpeg 2627w\"}}}}}},\"pathContext\":{\"slug\":\"/posts/2018-07-20-this-in-javascript/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/posts-2018-07-20-this-in-javascript.json\n// module id = 729\n// module chunks = 46227488339713"],"sourceRoot":""}